<!doctype html>
<html lang="en">
  <head>
    <!-- Required meta tags -->
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

    <link rel="preconnect" href="https://fonts.gstatic.com">
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@200;300;400;500;600;700;800;900&display=swap" rel="stylesheet">

    <title>Sum of Digits</title>

    <style>

      * {
	  margin: 0;
	  padding: 0;
	  box-sizing: border-box;
	  font-family: 'Poppins', sans-serif;
      }

      section {
	  min-height: 100vh;
	  width: 100%;
	  display: flex;
	  align-items: center;
	  justify-content: center;
	  flex-direction: column;
      }

      section h1 {
	  margin: 30px 0;
	  padding: 0 40px;
	  text-align: center;
	  font-weight: 300;
	  font-size: 1.5em;
      }
      
      section .answer {
	  font-size: 10em;
	  font-weight: 700;
	  color: slateblue;
      }
      
      section form {
	  width: 80%;
	  display: flex;
	  flex-direction: column;
      }


      section form input {
	  width: 100%;
	  margin: 5px;
	  padding: 15px;
      }

      section form input[type=submit] {
	  font-size: 1.5em;
      }

      section form input::placeholder {
	  font-size: 0.7em;
	  font-weight: 300;
      }
      
      section form input[type=number] {
	  font-size: 1.5em;
	  font-weight: 600;
      }
      
      .container {
	  width: 80%;
	  overflow-x: scroll;
      }

      .container p {
	  color: #333;
	  font-size: 30px;
	  font-weight: 600;
	  text-align: center;
      }
      
      @media (min-width: 678px) {
	  section form {
	      width: 30%;
	  }
      }

    </style>
  </head>
  <body>

    <section>
      
      <h1>Finding sum of digits of a number until sum becomes single digit</h1>
      <div class="container"></div>
      <form>
	<input type="number" name="number" placeholder="Please Insert a Number" required id="number">
	<input type="submit" value="Sum">
      </form>
      <div class="answer"></div>
    </section>

    <footer style="display: block; background-color: #333; color: #fff; text-align: center; padding: 5px;">
      <p><small>Coded by <a style="color: #fff; text-decoration: none;" href="https://github.com/rodionsibov"><b>Rodion Sibov</b></a> | 2020</small></p>
    </footer>

    <script>

      const containerEl = document.querySelector('.container')
      const formEl = document.querySelector('form')

      formEl.addEventListener('submit', (e) => {
	  e.preventDefault();

	  const num = document.querySelector('#number').value
	  const answerEl = document.querySelector('.answer')

	  answerEl.innerHTML = addDigits(num);
	  formEl.reset();

	  containerEl.innerHTML = `<p>${num.split('').join('+')}`;
      })

      
      const sumDigits = (num) => {
	  const str = String(num);
	  let result = 0;

	  for (let i = 0; i < str.length; i++) {
	      result += Number(str[i]);
	  }
	  return result;
      }

      const addDigits = (num) => {
	  let result = num;

	  while (result >= 10) {
	      result = sumDigits(result);
	  }
	  return result;
      }

      
    </script>
  </body>
</html>
