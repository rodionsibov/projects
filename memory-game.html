<!doctype html>
<html lang="en">
  <head>

    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

    <title>Hello, world!</title>
    <style>

      .grid {
	  display: flex;
	  flex-wrap: wrap;
	  height: 300px;
	  width: 400px;
      }
      </style>
  </head>
  <body>
    <h3>Score:<span id="result"></span></h3>
    <div class="grid">
    </div>
    <script>

      // card options
      const cardArray = [
	  {
	      name: "1864473",
	      img: "https://image.flaticon.com/icons/svg/1864/1864473.svg",
	  },
	  {
	      name: "1864601",
	      img: "https://image.flaticon.com/icons/svg/1864/1864601.svg",
	  },
	  {
	      name: "1864481",
	      img: "https://image.flaticon.com/icons/svg/1864/1864481.svg",
	  },
	  {
	      name: "1864521",
	      img: "https://image.flaticon.com/icons/svg/1864/1864521.svg",
	  },
	  {
	      name: "1864474",
	      img: "https://image.flaticon.com/icons/svg/1864/1864474.svg",
	  },
	  {
	      name: "",
	      img: "",
	  },
	  {
	      name: "",
	      img: "",
	  },
	  {
 	      name: "1864508",
	      img: "https://image.flaticon.com/icons/svg/1864/1864508.svg",
	  }
      ];

      const grid = document.querySelector(".grid")
      const resultDisplay = document.querySelector("#result")
      var cardChosen = []
      var cardChosenId = []
      var cardsWon = []
      
      // create board
      function createBoard() {
	  for (let i = 0; i < cardArray.length; i++) {
	      var card = document.createElement("img")
	      card.setAttribute("src", "https://image.flaticon.com/icons/svg/189/189665.svg")
	      card.setAttribute("data-id", i)
	      card.AddEventListener("click", flipcard)
	      grid.appendChild(card)
	      
	  }
      }

      // check for matches

      function checkForMatch() {
	  var cards = document.querySelectorAll("img")
	  const optionOneId = cardsChosenId[0]
	  const optionTwoId = cardsChosenId[1]
	  if (cardsChosen[0] === cardsChosen[1]) {
	      alert("You found a match")
	      cards[optionOneId].setAttribute("src", "https://image.freepik.com/free-vector/thinking-girl-beautiful-face-doubts-female-problems-thoughts-emotions-curious-woman-questioning-question-mark_176448-62.jpg")
	      cards[optionTwoId].setAttribute("src", "https://image.freepik.com/free-vector/thinking-girl-beautiful-face-doubts-female-problems-thoughts-emotions-curious-woman-questioning-question-mark_176448-62.jpg")
	      cardsWon.push(cardsChosen)
	  } else {
	      cards[optionOneId].setAttribute("src", "https://image.flaticon.com/icons/svg/189/189665.svg")
	      cards[optionTwoId].setAttribute("src", "https://image.flaticon.com/icons/svg/189/189665.svg")
	      alert("Sorry, try again")
	  }
	  cardsChosen = []
	  cardsChosenId = []
	  resultDisplay.textContent = cardsWon.length
	  if (cardsWon.length === cardArray.length / 2) {
	      resultDisplay.textContent = "Congratulations! You found them all!"
	  }
      }      

      // flip card

	  function flipCard() {
	      var cardId = this.getAttribute("data-id")
	      cardsChosen.push(cardArray[cardId].name)
	      cardsChosenId.push(cardId)
	      this.setAttribute("src", cardArray[cardId].img)
	      if (cardChosen.length === 2) {
		  setTimeout(checkForMatch, 500)
	      }
      }


      
      createBoard()
    </script>
  </body>
</html>
