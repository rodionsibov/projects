<!doctype html>
<html lang="en">
  <head>
    <!-- Required meta tags -->
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link rel="preconnect" href="https://fonts.gstatic.com">
    <link href="https://fonts.googleapis.com/css2?family=Roboto:wght@100;400;900&display=swap" rel="stylesheet">

    <title>Progress Bar</title>
    <style>
      
      * {
	  box-sizing: border-box;
	  margin: 0;
	  padding: 0;
      }

      html {
	  font-family: 'Roboto', sans-serif;
      }
      
      body {
	  display: grid;
	  justify-content: center;
	  align-content: center;
	  height: 100vh;
      }
      
      .progress-bar {
	  position: relative;
	  width: 300px;
	  height: 40px;
	  border: 2px solid #000;
      }

      .progress-bar-fill {
	  height: 100%;
	  background: #59ea63;
	  transition: 0.5s width; 
      }

      .progress-bar-value {
	  position: absolute;
	  width: 100%;
	  height: 100%;
	  display: flex;
	  align-items: center;
	  justify-content: center;
	  font-weight: bold;
      }

    </style>
  </head>
  <body>
    
    <div class="progress-bar">
      <div class="progress-bar-value">75%</div>
      <div class="progress-bar-fill"></div>
    </div> 

    <script>
      
      class ProgressBar {
	  constructor (element, initialValue = 0) {
	      this.valueElem = element.querySelector('.progress-bar-value');
	      this.fillElem = element.querySelector('.progress-bar-fill');

	      this.setValue(initialValue);
	  }

	  setValue (newValue) {
	      if (newValue < 0) {
		  newValue = 0;
	      }

	      if (newValue > 100) {
		  newValue = 100;
	      }

	      this.value = newValue;
	      this.update();
	  }

	  update () {
	      const percentage = this.value + "%"; // 50%

	      this.fillElem.style.width = percentage;
	      this.valueElem.textContent = percentage;
 	  }
      }

      const pb1 = new ProgressBar(document.querySelector(".progress-bar"));

      window.addEventListener('mousemove', (e) => {
	  pb1.setValue(e.x / 10)
      })

    </script>

  </body>
</html>
