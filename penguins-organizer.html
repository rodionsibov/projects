<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>Penguins Organizer (Fetch API Sandbox)</title>



    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.0-2/css/all.min.css" integrity="sha256-46r060N2LrChLLb5zowXQ72/iKKNiw/lAmygmHExk/o=" crossorigin="anonymous" />
    <style>

      * {
	  margin: 0;
	  padding: 0;
	  box-sizing: border-box;
	  font-family: sans;
      }
      
      section {
	  min-height: 100vh;
	  width: 100%;
	  display: flex;
	  justify-content: center;
	  align-items: center;
	  flex-direction: column;
      }

      .container {
	  width: 90%;
	  max-width: 500px;
	  height: 400px;
	  background: #eee;
	  padding: 50px;
	  margin: 50px 0;
      }

      section  h1 {
	  font-size: 1.5em;
	  margin-bottom: 10px;
      }

      section p {
	  color: #555;
      }

      
    </style>


  </head>
  <body>
    
    <section>
      <h1>Penguins üêß Organizer</h1>
      <p>Fetch API Sandbox</p>
      <div class="container">
	<div id="root"></div>
      </div>
    </section>
    
    <footer style="padding: 10px 50px; background: #333; color: white; text-align: center; font-family: sans;">
      <p><small>This website was created and is maintained by <a style="color: white; text-decoration: none;" href="https://github.com/rodionsibov">Rodion Sibov</a> &bull; <span class="year"></span></small></p>
    </footer>

    <script>
      const year = new Date().getFullYear()
      document.querySelector('.year').innerHTML = year
    </script>

    <script>
      

      
      // "https://jsonplaceholder.typicode.com/todos"
      // "https://jsonplaceholder.typicode.com/users"

      // ##### User Class #####
      class User {
	  constructor(name, email, company) {
	      this.name = name;
	      this.email = email;
	      this.company = company;
	  }
      }

      const newUser = new User('myName', 'myCompany', 'my@email.com')





      // ##### UI Class #####
      class UI {
	  static displayUsers() {

	  }

	  static showAlert(message, className) {
	      const div = document.createElement('div')
	      div.className = `alert alert-${className}`
	      div.appendChild(document.createTextNode(message))
	      document.body.insertBefore(div, document.body.querySelector('#root'))

	      //Vanish in 3 Seconds
	      setTimeout(() => {
		  document.querySelector('.alert').remove()
	      }, 3000)
	  }
      }


      // ##### Store Class #####

      class Store {
	  static getUsersAndTodos() {

	      
	      (async () => {
       		  const usersData = await fetch('https://jsonplaceholder.typicode.com/users').then(res => res.json())
       		  const todosData =  await fetch('https://jsonplaceholder.typicode.com/todos').then(res => res.json())
		  const usersFilter = usersData.map(({name, email, company: {name: company}}) => ({name, email, company}))
		  const todosFilter = todosData.filter(todo => todo.id < 5)
		  
		  localStorage.setItem('users', JSON.stringify(usersFilter))
		  localStorage.setItem('todos', JSON.stringify(todosFilter))

		  let users, todos
		  localStorage.getItem('users' === null)
		      ? users = []
		      : users = JSON.parse(localStorage.getItem('users'))

		  localStorage.getItem('todos' === null)
		      ? todos = []
		      : todos = JSON.parse(localStorage.getItem('todos'))

	      })()

	  }
	  
	  
	  static addUser() {
	      
	  }
      }


      //Event Display 

      document.addEventListener('DOMContentLoaded', () => {

      })






    </script>


  </body>
</html>
