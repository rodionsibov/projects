<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>Penguins Organizer (Fetch API Sandbox)</title>



    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.0-2/css/all.min.css" integrity="sha256-46r060N2LrChLLb5zowXQ72/iKKNiw/lAmygmHExk/o=" crossorigin="anonymous" />
    <style>
      
    </style>


  </head>
  <body>

    <h1>Penguins 🐧 Organizer</h1>
    <p>Fetch API Sandbox</p>
    
    <div id="root"></div>
    <script>


      
      // "https://jsonplaceholder.typicode.com/todos"
      // "https://jsonplaceholder.typicode.com/users"

      // ##### User Class #####
      class User {
	  constructor(name, email, company) {
	      this.name = name;
	      this.email = email;
	      this.company = company;
	  }
      }

      const newUser = new User('myName', 'myCompany', 'my@email.com')





      // ##### UI Class #####
      class UI {
	  static displayUsers() {

	  }

	  static showAlert(message, className) {
	      const div = document.createElement('div')
	      div.className = `alert alert-${className}`
	      div.appendChild(document.createTextNode(message))
	      document.body.insertBefore(div, document.body.querySelector('#root'))

	      //Vanish in 3 Seconds
	      setTimeout(() => {
		  document.querySelector('.alert').remove()
	      }, 3000)
	  }
      }


      // ##### Store Class #####

	  class Store {
	      static getUsersAndTodos() {

		  
		  (async () => {
       		      const usersData = await fetch('https://jsonplaceholder.typicode.com/users').then(res => res.json())
       		      const todosData =  await fetch('https://jsonplaceholder.typicode.com/todos').then(res => res.json())
		      const usersFilter = usersData.map(({name, email, company: {name: company}}) => ({name, email, company}))
		      const todosFilter = todosData.filter(todo => todo.id < 5)
		      
		      localStorage.setItem('users', JSON.stringify(usersFilter))
		      localStorage.setItem('todos', JSON.stringify(todosFilter))

		      let users, todos
		      localStorage.getItem('users' === null)
			  ? users = []
			  : users = JSON.parse(localStorage.getItem('users'))

		      localStorage.getItem('todos' === null)
			  ? todos = []
			  : todos = JSON.parse(localStorage.getItem('todos'))

		  })()

	      }
	      
	      
	      static addUser() {
		
	      }
	  }


      //Event Display 

      document.addEventListener('DOMContentLoaded', () => {

      })






      </script>


  </body>
</html>
