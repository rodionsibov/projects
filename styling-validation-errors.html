<!doctype html>
<html lang="en">
  <head>
    <!-- Required meta tags -->
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

    <link href="https://fonts.googleapis.com/icon?family=Material+Icons"
	  rel="stylesheet">

    <link rel="preconnect" href="https://fonts.gstatic.com">
    <link href="https://fonts.googleapis.com/css2?family=Roboto:wght@400;500;700&display=swap" rel="stylesheet">

    <title>Styling Validation Errors</title>

    <style>

      body {
	  margin: 20px;
	  font-family: "Roboto", sans-serif;

      }

      .input-container {
	  margin-bottom: 15px;
	  max-width: 300px;
	  
      }

      .input-container[data-error] .input {
	  border-color: crimson;
	  color: crimson;
	  background: #fffafa;
      }

      .input-container[data-error]::after {
	  content: attr(data-error);
	  font-size: 0.85em;
	  color: crimson;
	  display: block;
	  margin: 10px 0;
      }


      input {
	  width: 100%;
	  display: block;
	  border: 1px solid #ddd;
	  padding: 12px;
	  border-radius: 4px;
	  transition: background 0.2s, border 0.2s;

      }

      


    </style>

  </head>
  <body>
    <div class="input-container" data-error="Sorry, that username is taken.">
      <input type="text" class="input" placeholder="Username" value="rcode123">
    </div>
    <div class="input-container">
      <input type="password" class="input" placeholder="Password">
    </div>
    <div class="input-container">
      <input type="password" class="input" placeholder="Confirm Password">
    </div>


    <script>

      document.querySelectorAll(".input-container[data-error] .input").forEach(inpEl => {
	  inpEl.addEventListener("input", () => inpEl.parentElement.removeAttribute("data-error"));
      });


    </script>
  </body>
</html>
