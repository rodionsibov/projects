<!doctype html>
<html lang="en">
  <head>
    <!-- Required meta tags -->
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

    <link rel="preconnect" href="https://fonts.gstatic.com">
    <link href="https://fonts.googleapis.com/css2?family=Roboto:wght@400;900&display=swap" rel="stylesheet">

    <title>Key Code Generator</title>

    <style>

      * {
	  margin: 0;
	  padding: 0;
	  box-sizing: border-box;
      }

      body {
	  font-family: 'Roboto', sans-serif;
	  background-color: aliceblue;
      }

      section {
	  min-height: 100vh;
	  width: 100%;
	  display: flex;
	  align-items: center;
	  justify-content: center;
	  padding: 50px 0;
      }

      .container {
	  width: 90%;
	  max-width: 900px;
	  margin: 0 auto;
	  display: flex;
	  align-items: center;
	  justify-content: center;
      }
      
      .container div {
	  background-color: white;
	  display: flex;
	  flex-direction: column;
	  text-align: center;
	  padding: 30px;
	  border-radius: 10px;
	  cursor: pointer;
	  box-shadow: 0 0 10px 0 #0000001c;
	  transition: 0.3s ease box-shadow;
      }

      .container div:hover {
	  box-shadow: 0 0 60px 0 #0000001f;
      }

      .container h2 {
	  margin: 20px 0;
	  font-size: 60px;
      }

      .arrow {
	  background-color: transparent!important;
	  padding: 0 100px!important;
	  box-shadow: none!important;
	  cursor: default!important;
      }

      .arrow img {
	  width: 80px;
	  transform: rotate(180deg);
      }

      .overlay {
	  position: fixed;
	  top: 0;
	  left: 0;
	  height: 100%;
	  width: 100%;
	  background-color: aliceblue;
	  display: flex;
	  align-items: center;
	  justify-content: center;
	  padding: 80px;
	  text-align: center;
      }

      .overlay.hide {
	  display: none;
      }

      @media only screen and (max-width: 800px) {
	  .container {
	      flex-direction: column;
	  }
	  .arrow {
	      padding: 30px 0!Important;
	      transform: rotate(90deg);
	  }
      }

    </style>
  </head>
  <body>
    
    <section>
      <div class="container">

	<div class="key">
	  <h1>Pressed Key</h1>
	  <h2>Space</h2>
	</div>

	<div class="arrow">
	  <img src="https://static.thenounproject.com/png/1624571-200.png" alt="arrow img">
	</div>

	<div class="keyCode">
	  <h1>Key Code</h1>
	  <h2>32</h2>
	  <p>Click to Copy</p>
	</div>

      </div>
    </section>

    <div class="overlay">
      <h1>Press any key to start</h1>
    </div>
    
    <footer style="background-color: #333; color: #fff; padding: 5px; text-align: center;">
      <p><small>Coded by <a style="color: #fff;" href="https://github.com/rodionsibov">Rodion Sibov</a> | 2020</small></p>
    </footer>

    <script>

      const displayKey = document.querySelector('.key h2');
      const displayKeyCode = document.querySelector('.keyCode h2');
      const keyCodeDiv = document.querySelector('.keyCode');
      const overlay = document.querySelector('.overlay');

      window.addEventListener('touchstart', (e) => {
	  overlay.classList.add('hide');
      });
	  
      window.addEventListener('keydown', (e) => {
	  overlay.classList.add('hide');
	  displayKey.innerText = e.key;
	  displayKeyCode.innerText = e.keyCode;
	  if (e.keyCode === 32) {
	      displayKey.innerText = 'Space';
	  }
      })

      keyCodeDiv.addEventListener('click', () => {
	  const textArea = document.createElement('textarea');
	  textArea.setAttribute('readonly', '');
	  textArea.style.position = 'absolute';
	  textArea.value = keyCodeDiv.querySelector('h2').innerText;
	  document.body.appendChild(textArea);
	  textArea.select();
	  document.execCommand('copy');
	  document.body.removeChild(textArea);
	  keyCodeDiv.querySelector('p').innerText = 'Copied';
	  setTimeout(() => {
	      keyCodeDiv.querySelector('p').innerText = 'Click to Copy';
	  }, 1000);
      })

    </script>
  </body>
</html>
